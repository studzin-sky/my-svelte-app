<script lang='ts'>
	import { invalidateAll } from '$app/navigation';
	import { supabaseClient } from 'src/lib/supabase';
    import { onMount } from 'svelte';

    onMount(() => {
        const {data: {subscription}} = supabaseClient.auth.onAuthStateChange(() => {
        	invalidateAll();
        });
        return () => {
        	subscription.unsubscribe();
        };
    })
    
</script>